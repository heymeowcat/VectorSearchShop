<!DOCTYPE html>
<html>
  <head>
    <title>App Diagram</title>
    <script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
  </head>

  <body>
    <div class="mermaid">
      sequenceDiagram
        participant User
        participant App
        participant CLIPModel
        participant Qdrant
        participant Database
    
        User->>App: Search query (text/image/both)
        App->>CLIPModel: Encode query text/image
        CLIPModel-->>App: Query embeddings
        App->>Qdrant: Search with query embeddings
        Qdrant-->>App: Search results
        App->>Database: Load product data
        Database-->>App: Product data
        App-->>User: Display search results
    
        User->>App: View product details
        App->>CLIPModel: Encode product image
        CLIPModel-->>App: Image embedding
        App->>Qdrant: Search for similar products
        Qdrant-->>App: Similar products
        App-->>User: Display similar products
    
        User->>App: Add new product
        App->>CLIPModel: Encode product text/image
        CLIPModel-->>App: Combined embeddings
        App->>Qdrant: Store combined embeddings
        App->>Database: Store product data
    </div>
    <script>
      mermaid.initialize({
        startOnLoad: true,
        theme: "default",
      });
    </script>
  </body>
</html>
